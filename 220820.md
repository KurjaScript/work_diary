### 站会汇报

上周我把列表页的音频播放组件写好了，今天准别实现进度条拖拽功能，然后把适配做一下

### 今日完成工作



### 未完成工作

- 进度条拖拽功能
- 适配

### 需要协调工作

- 需求1 进度条拖拽功能

  描述：音频 nft，拖动进度条可播放对应的内容，暂停拖动图片不旋转，**播放拖动图片保持旋转**。

  audio 自带的拖动进度条事件，每当拖动进度条就会默认出发audio 的 pause 事件，导致无法在实现该功能。

  目前想到的两个思路：

  1. 设置一个控制动画的变量 isPlaying，初始值为 false，设置一个中间变量 seekDisc，初始值为 false。

     当按下播放键后，音频处于播放状态，isPlaying = true，seekDisc = false。此时拖动进度条，我们期待的效果是，音频暂停播放，但是动画处于运动状态。此时 isPlaying = false（pause事件触发了，seekDisc = true；

     当按下暂停键，音频处于静止状态，isPalying = false，seekDisc  = false，此时动画效果静止。

     事实上，只要一拖动进度条，就会触发 pause 事件，对应的情况只有两种。所以今天我尝试了很长时间的这个思路，行不通。我设置的中间变量是多余的。

  2. 用 js 方法，阻止拖动过程中的默认事件pause。但是我目前还没有这方面的尝试，如果在触发 seeking 时间的时候能阻止默认的 pause 事件。问题就会变得很简单。那么此时设置中间变量 seekDisc 则是有意义的。我们也可以进一步完善进度条拖动的功能：

     当拖动进度条时，音频仍处于播放状态，直至松开鼠标，音频跳至松开鼠标的那个位置进行播放。这样的实现和各大音乐平台上一致。

     即使是想实现初始的需求，也比较简单。

- 适配，有展开和收起两种状态。

  1440: 272 * 368； 1440 收起：307 * 387

  1144: 272 * 368； 1144 收起：272 * 368

  768: 232 * 304；768 收起：302 * 387

  302: 272 * 342 

  